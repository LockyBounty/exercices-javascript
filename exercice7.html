<!DOCTYPE html>
<html>

<head>
    <title>Parcours javascript</title>
    <meta charset="UTF-8">
</head>

<body>

    <!--Exercice 7.a Objet- character>
    <script>
        //let objet1 = {}; // creation d'objet //
        let string1="";
        let main_color = "#FF0000";

        let character = { 
            
            name : "Thor",
            age : 8000,
            itemToGive : ["Mjolnir", "Thunder gauntlet", "Light ring", "Golden crown"],
            
            giveItem : function(){
                
                let randomItem = Math.floor(Math.random()*this.itemToGive.length);
                document.write(`PNJ gave ${this.name} the item : ${this.itemToGive[randomItem]}`);
            }
        };
        
        /*for (let property1 in character){
            string1 = string1 + "<br/> " + character[property1];
        }*/
        
        //document.write(`${character.name}`);//
        character.giveItem();
        
    </script-->

    <!--Exercice 7.b Objet- Shop a / b / c>
    <script>
        let string1="";
        let armeDispo="";
        let mini10="";
        
        let epee = {
            title: "Masamune",
            physic: 120,
            magic: 50,
            minLevel: 10, //Pour le debloquer//
            available: true
        };
        let hache = {
            title: "Tomahawk",
            physic: 90,
            magic: 25,
            minLevel: 5, //Pour le debloquer//
            available: true
        };
        let sceptre = {

            title: "Dragul",
            physic: 20,
            magic: 150,
            minLevel: 12, //Pour le debloquer//
            available: false
        };
        let shop = [epee, hache, sceptre];

        //a Afficher tous les objets//
        let display1 = () => {
        for (let key1 in shop){
            string1 = string1 + "<br/> " + shop[key1].title;}
            document.write(`${string1}`);
            };
        display1();

        //b Afficher tous les objets disponibles//
        let available1 = () => {
            for (let key2 in shop){
                if (shop[key2].available === true){
                    armeDispo = armeDispo + "<br/> " + shop[key2].title;}
                    
                }
                document.write(`<br/>Armes disponibles : ${armeDispo}`);
            } 
        available1();

        //c Afficher tous les objets dont le niveau minimum est 10//
        let lvl10min = () => {
            for (let key3 in shop){
                if (shop[key3].minLevel >= 10){
                    mini10 = mini10 + "<br/> " + shop[key3].title;}                
                }
                document.write(`<br/>Armes de minimum lvl 10 : ${mini10}`);
            } 
        lvl10min();



     </script-->

    <!--Exercice 7.c Objet - mainCharacter>
    <script>
                        
            let mainCharacter = {
                name: "Thor",
                level: 10,
                life: 500,
                attack : function (){
                    document.write(`${this.name} attaque avec ${this.weapon.name} et inflige ${(this.level)*this.weapon.damage} points de dégats`);
                },
                weapon : {
                    name: "Mjölnir",
                    damage: 150
                }, //Objet dans un objet /weapon dans mainCharacter//
            };
           
            mainCharacter.attack();    
    
         </script-->
    <!--Exercice 7 Bonus -->
    <script>
        let mainCharacter = {
            name: "Thor",
            level: 10,
            life: 2500,
            weapon: {
                name: "Mjölnir",
                damage: 150
            }, //Objet dans un objet /weapon dans mainCharacter//

            attack: function(opponent) {
                document.write(`${this.name} attaque ${opponent.name} avec ${this.weapon.name} et inflige ${(this.level)*this.weapon.damage} points de dégats<br/>`);
                return (this.level) * this.weapon.damage;
            },
            receiveDamage: function(damage) {
                this.life -= damage;
                if (this.life <= 0) {
                    document.write(`${this.name} a été vaincu !<br/>`);
                } else {

                    document.write(`Il reste ${this.life} points de vie à ${this.name}<br/>`);
                }
            }
        };
        let opponentCharacter = {
            name: "Loki",
            level: 12,
            life: 3100,
            weapon: {
                name: "Fenrir",
                damage: 170
            }, //Objet dans un objet /weapon dans mainCharacter//

            attack: function(opponent) {
                document.write(`${this.name} attaque ${opponent.name} avec ${this.weapon.name} et inflige ${(this.level)*this.weapon.damage} points de dégats<br/>`);
                return (this.level) * this.weapon.damage;
            },

            receiveDamage: function(damage) {
                this.life -= damage;
                if (this.life <= 0) {
                    document.write(`${this.name} a été vaincu !<br/>`);
                } else {

                    document.write(`Il reste ${this.life} points de vie à ${this.name}<br/>`);
                }
            }
        };


        opponentCharacter.receiveDamage(mainCharacter.attack(opponentCharacter));
        opponentCharacter.receiveDamage(mainCharacter.attack(opponentCharacter));
        mainCharacter.receiveDamage(opponentCharacter.attack(mainCharacter));
        mainCharacter.receiveDamage(opponentCharacter.attack(mainCharacter));
        
    </script>

</body>

</html>
